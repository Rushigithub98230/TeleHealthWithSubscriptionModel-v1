2025-08-07 13:16:46.534 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 13:16:46.596 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 13:16:47.935 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-07 13:17:29.974 +05:30 [INF] Stripe service initialized successfully
2025-08-07 13:18:53.944 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 13:18:53.979 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 13:18:55.178 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-07 13:19:05.180 +05:30 [INF] Stripe service initialized successfully
2025-08-07 13:19:05.248 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method286(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 13:23:20.924 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 13:23:20.958 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 13:23:21.735 +05:30 [INF] Automated billing service started
2025-08-07 13:23:21.905 +05:30 [INF] Stripe service initialized successfully
2025-08-07 13:23:21.919 +05:30 [INF] Starting automated billing cycle at "2025-08-07T07:53:21.9194335Z"
2025-08-07 13:23:22.669 +05:30 [INF] Found 0 subscriptions due for billing
2025-08-07 13:23:22.716 +05:30 [INF] Found 0 suspended subscriptions
2025-08-07 13:23:22.760 +05:30 [INF] Found 0 subscriptions with usage counters to reset
2025-08-07 13:23:22.760 +05:30 [INF] Completed automated billing cycle at "2025-08-07T07:53:22.7603690Z"
2025-08-07 13:23:23.118 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-07 13:23:23.808 +05:30 [INF] Stripe service initialized successfully
2025-08-07 13:23:23.969 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 13:23:38.698 +05:30 [INF] Stripe service initialized successfully
2025-08-07 13:23:38.748 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 13:26:15.041 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:03:30.859 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:03:30.902 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:03:31.677 +05:30 [INF] Automated billing service started
2025-08-07 14:03:31.810 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:03:31.826 +05:30 [INF] Starting automated billing cycle at "2025-08-07T08:33:31.8254194Z"
2025-08-07 14:03:32.222 +05:30 [INF] Found 0 subscriptions due for billing
2025-08-07 14:03:32.236 +05:30 [INF] Found 0 suspended subscriptions
2025-08-07 14:03:32.248 +05:30 [INF] Found 0 subscriptions with usage counters to reset
2025-08-07 14:03:32.250 +05:30 [INF] Completed automated billing cycle at "2025-08-07T08:33:32.2504887Z"
2025-08-07 14:04:15.830 +05:30 [INF] Automated billing service stopped
2025-08-07 14:04:32.295 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:04:32.332 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:04:33.337 +05:30 [INF] Automated billing service started
2025-08-07 14:04:33.511 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:04:33.527 +05:30 [INF] Starting automated billing cycle at "2025-08-07T08:34:33.5268098Z"
2025-08-07 14:04:34.025 +05:30 [INF] Found 0 subscriptions due for billing
2025-08-07 14:04:34.057 +05:30 [INF] Found 0 suspended subscriptions
2025-08-07 14:04:34.073 +05:30 [INF] Found 0 subscriptions with usage counters to reset
2025-08-07 14:04:34.073 +05:30 [INF] Completed automated billing cycle at "2025-08-07T08:34:34.0731995Z"
2025-08-07 14:04:34.639 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-07 14:04:40.160 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:04:40.260 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:07:02.378 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:07:14.975 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:07:15.015 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:07:31.172 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:07:31.209 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:08:07.702 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:08:07.737 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:08:18.198 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:08:18.218 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:09:29.913 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:09:29.939 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:09:41.316 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:09:41.336 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:10:53.309 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:10:53.333 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:11:06.416 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:11:06.437 +05:30 [ERR] Unhandled exception occurred
System.InvalidOperationException: Unable to resolve service for type 'SmartTelehealth.Infrastructure.Services.AutomatedBillingService' while attempting to activate 'SmartTelehealth.API.Controllers.SubscriptionAnalyticsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method300(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at SmartTelehealth.API.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\GlobalExceptionMiddleware.cs:line 23
2025-08-07 14:16:24.417 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:16:24.461 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:16:26.931 +05:30 [INF] Automated billing service started
2025-08-07 14:16:27.065 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:16:27.082 +05:30 [INF] Starting automated billing cycle at "2025-08-07T08:46:27.0824743Z"
2025-08-07 14:16:27.363 +05:30 [INF] Found 0 subscriptions due for billing
2025-08-07 14:16:27.380 +05:30 [INF] Found 0 suspended subscriptions
2025-08-07 14:16:27.392 +05:30 [INF] Found 0 subscriptions with usage counters to reset
2025-08-07 14:16:27.394 +05:30 [INF] Completed automated billing cycle at "2025-08-07T08:46:27.3945576Z"
2025-08-07 14:18:35.111 +05:30 [INF] Automated billing service stopped
2025-08-07 14:20:31.035 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:20:31.077 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-07 14:20:31.995 +05:30 [INF] Automated billing service started
2025-08-07 14:20:32.147 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:20:32.161 +05:30 [INF] Starting automated billing cycle at "2025-08-07T08:50:32.1609915Z"
2025-08-07 14:20:32.579 +05:30 [INF] Found 0 subscriptions due for billing
2025-08-07 14:20:32.591 +05:30 [INF] Found 0 suspended subscriptions
2025-08-07 14:20:32.602 +05:30 [INF] Found 0 subscriptions with usage counters to reset
2025-08-07 14:20:32.602 +05:30 [INF] Completed automated billing cycle at "2025-08-07T08:50:32.6025879Z"
2025-08-07 14:20:33.021 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-07 14:21:49.600 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:21:50.981 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:21:51.140 +05:30 [ERR] Error getting subscription dashboard
System.UnauthorizedAccessException: Invalid user ID
   at SmartTelehealth.API.Controllers.SubscriptionAnalyticsController.GetCurrentUserId() in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\Controllers\SubscriptionAnalyticsController.cs:line 570
   at SmartTelehealth.API.Controllers.SubscriptionAnalyticsController.GetDashboard(Nullable`1 startDate, Nullable`1 endDate) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\Controllers\SubscriptionAnalyticsController.cs:line 60
2025-08-07 14:21:58.038 +05:30 [INF] Stripe service initialized successfully
2025-08-07 14:21:58.114 +05:30 [ERR] Error getting subscription dashboard
System.UnauthorizedAccessException: Invalid user ID
   at SmartTelehealth.API.Controllers.SubscriptionAnalyticsController.GetCurrentUserId() in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\Controllers\SubscriptionAnalyticsController.cs:line 570
   at SmartTelehealth.API.Controllers.SubscriptionAnalyticsController.GetDashboard(Nullable`1 startDate, Nullable`1 endDate) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel\backend\SmartTelehealth.API\Controllers\SubscriptionAnalyticsController.cs:line 60
